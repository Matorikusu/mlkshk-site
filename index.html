<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MLKSHK</title>
<link rel="icon" href="images/LOGO_SMALL.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700&family=Rajdhani:wght@500;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#000;
  --text:#fff;
  --muted:#ccc;
  --accent:#ff2aa1;
  --dropdown-bg:#000;
}
/* RESET */
html,body{
  margin:0;
  height:100%;
  font-family:'Rajdhani',system-ui,-apple-system,'Helvetica Neue',Arial;
  background:var(--bg);
  color:var(--text);
  overflow-x: hidden;
}
a{color:inherit;text-decoration:none}
/* NAV BAR */
header.nav-bar{
  border-bottom:1px solid rgba(255,255,255,0.05);
  padding:18px 24px;
  background:linear-gradient(180deg,rgba(0,0,0,.2),transparent);
  position:sticky;
  top:0;
  z-index:30;
}
.nav-content{
  display:flex;
  align-items:center;
  justify-content:space-between;
  max-width:1200px;
  margin:0 auto;
}
.logo-link img{height:42px;display:block}
.nav-dropdown{position:relative}
.nav-toggle{
  background:none;
  border:0;
  color:var(--muted);
  font-weight:600;
  cursor:pointer;
  padding:6px 10px;
}
.dropdown-menu{
  display:none;
  position:absolute;
  top:calc(100% + 8px);
  right:0;
  left:auto;
  background:var(--dropdown-bg);
  border:1px solid var(--accent);
  border-radius:8px;
  min-width:200px;
  z-index:100;
  overflow:hidden;
  max-width:90vw;
}
.dropdown-menu a{
  display:block;
  padding:10px 14px;
  color:#fff;
  text-decoration:none;
}
.dropdown-menu a:hover {
  background:var(--accent);
  color:#000;
}
/* HERO */
.hero{
  height:700px;
  background:url('images/Home/mlkshk_header.png') center/cover no-repeat;
}
/* IMAGE LINKS */
.image-link{
  display:block;
  margin:40px auto;
}
.image-section{
  width: 100%;
  height: 420px;
  background-size:cover;
  background-position:center;
  cursor:pointer;
  transition:transform .35s ease,filter .35s ease,box-shadow .35s ease;
  aspect-ratio: 2.38 / 1;
}
.image-link:hover .image-section{
  transform:scale(1.02);
  filter:brightness(1.15);
  box-shadow:0 0 40px rgba(255,255,255,.35);
}
/* INDIVIDUAL BACKGROUNDS */
.pirate-radio-section{background-image:url('images/Pirate Radio/pirateradio_header.png');}
.brands-section{background-image:url('images/Home/MLKSHK_ARCHIVE_HEADER.png');}
.catalogue-section{background-image:url('images/Home/CATALOGUE_HEADER_3.png');}
.universe-section{background-image:url('images/Home/UNIVERSE_HEADER2.png');}
.lab-section{background-image:url('images/Home/LAB_HEADER.png');}
.access-section{background-image:url('images/Home/MLKSHK_ACCESS.png');}
/* FOOTER */
footer{
  padding:28px 20px;
  text-align:center;
  font-size:13px;
  border-top:1px solid rgba(255,255,255,.05);
}
/* FLOATING PLAYER */
#floating-player{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  width:360px;
  height:72px;
  background:url('Player/PLAYER.png') center/cover no-repeat;
  border-radius:20px;
  display:flex;
  align-items:center;
  padding:0 18px;
  box-shadow:0 12px 40px rgba(0,0,0,.85);
  z-index:999;
}
.player-meta{
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center;
  padding:0 12px;
}
.player-title{
  font-weight:700;
  font-size:14px;
}
.player-artist{
  font-size:12px;
  color:var(--muted);
}
.player-status{
  font-size:11px;
  color:var(--muted);
  margin-top:4px;
}
.player-controls{
  display:flex;
  align-items:center;
  justify-content:center;
  margin-left:12px;
}
.player-controls img{
  width:42px;
  height:42px;
  cursor:pointer;
}

/* MOBILE */
@media (max-width: 768px) {
  .hero { height: 50vh; }
  .image-section { height: auto; min-height: 200px; }
  .image-link { margin: 20px auto; }
  #floating-player { width: 90%; height: 60px; padding: 0 12px; }
  .player-title { font-size: 12px; }
  .player-artist, .player-status { font-size: 10px; }
  .player-controls img { width: 36px; height: 36px; }
}
</style>
</head>
<body>
<header class="nav-bar">
  <div class="nav-content">
    <a href="index.html" class="logo-link">
      <img src="images/MLKSHK_LOGO_1500_X_500.png" alt="MLKSHK Logo">
    </a>
    <div class="nav-dropdown">
      <button class="nav-toggle">Menu</button>
      <div class="dropdown-menu">
        <a href="access.html">Access</a>
        <a href="archive.html">Archive</a>
        <a href="pirateradio.html">Pirate Radio</a>
        <a href="lab.html">The Lab</a>
        <a href="universe.html">The Universe</a>
      </div>
    </div>
  </div>
</header>

<section class="hero"></section>

<a href="pirateradio.html" class="image-link">
  <section class="image-section pirate-radio-section"></section>
</a>

<a href="archive.html" class="image-link">
  <section class="image-section brands-section"></section>
</a>

<a href="catalogue.html" class="image-link">
  <section class="image-section catalogue-section"></section>
</a>

<a href="universe.html" class="image-link">
  <section class="image-section universe-section"></section>
</a>

<a href="lab.html" class="image-link">
  <section class="image-section lab-section"></section>
</a>

<a href="access.html" class="image-link">
  <section class="image-section access-section"></section>
</a>

<footer>
  MLKSHK Digital — Built for the misfits. © <span id="year"></span>
</footer>

<div id="floating-player">
  <div class="player-meta">
    <div class="player-title">MLKSHK Pirate Radio</div>
    <div class="player-artist">Live Stream</div>
    <div class="player-status" id="status">Ready</div>
  </div>
  <div class="player-controls">
    <img id="playPause" src="Player/PLAY.png" alt="Play/Pause">
  </div>
  <audio id="audio">
    <source src="https://radio.mlkshkdigital.com/stream.mp3" type="audio/mpeg">
  </audio>
</div>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

// Floating player
const audio = document.getElementById('audio');
const btn = document.getElementById('playPause');
const statusEl = document.getElementById('status');

btn.onclick = () => {
  if (audio.paused) {
    audio.play().catch(e => {
      console.log("Play failed:", e);
      statusEl.textContent = 'Error – try again';
    });
    btn.src = 'Player/PAUSE.png';
    statusEl.textContent = 'Connecting...';
  } else {
    audio.pause();
    btn.src = 'Player/PLAY.png';
    statusEl.textContent = 'Paused';
  }
};

audio.addEventListener('waiting', () => statusEl.textContent = 'Buffering...');
audio.addEventListener('playing', () => statusEl.textContent = 'Live');
audio.addEventListener('error', () => statusEl.textContent = 'Stream error – retry?');
audio.addEventListener('stalled', () => statusEl.textContent = 'Stalled...');
audio.addEventListener('pause', () => statusEl.textContent = 'Paused');

if ('mediaSession' in navigator) {
  navigator.mediaSession.metadata = new MediaMetadata({
    title: "MLKSHK Pirate Radio",
    artist: "Underground • Live • No Rules",
    album: "MLKSHK Digital",
    artwork: [
      { src: "images/LOGO_SMALL.png", sizes: "96x96", type: "image/png" },
      { src: "images/LOGO_SMALL.png", sizes: "128x128", type: "image/png" },
      { src: "images/LOGO_SMALL.png", sizes: "192x192", type: "image/png" },
      { src: "images/Pirate Radio/pirateradio.png", sizes: "512x512", type: "image/png" }
    ]
  });
  navigator.mediaSession.setActionHandler('play', () => {
    audio.play();
    btn.src = 'Player/PAUSE.png';
    statusEl.textContent = 'Live';
  });
  navigator.mediaSession.setActionHandler('pause', () => {
    audio.pause();
    btn.src = 'Player/PLAY.png';
    statusEl.textContent = 'Paused';
  });
  audio.addEventListener('play', () => navigator.mediaSession.playbackState = 'playing');
  audio.addEventListener('pause', () => navigator.mediaSession.playbackState = 'paused');
}

// Dropdown toggle (click to open/close)
const navToggle = document.querySelector('.nav-toggle');
const dropdownMenu = document.querySelector('.dropdown-menu');

navToggle.addEventListener('click', (e) => {
  e.stopPropagation(); // prevent closing immediately
  dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
});

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
  if (!navToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
    dropdownMenu.style.display = 'none';
  }
});
</script>
</body>
</html>
